import{j as d,r as u,k as g,o as r,c as p,a as o,b as y,t as h,f as l,w as D,d as c}from"./app.d2befc20.js";import{_ as F}from"./chunks/ComponentDemo.7f124fe6.js";const m=d({__name:"ButtonLogin",props:{mode:{type:String,required:!0,validator:e=>["callback","redirect"].includes(e)},botUsername:{type:String,required:!0,validator:e=>e.endsWith("bot")||e.endsWith("Bot")},redirectUrl:{type:String,default:""},requestAccess:{type:String,default:"read",validator:e=>["read","write"].includes(e)},size:{type:String,default:"medium",validator:e=>["small","medium","large"].includes(e)},hideUserPic:{type:Boolean,default:!1},radius:{type:String}},emits:["callback"],setup(e,{emit:n}){const s=e,a=u(),i=t=>{n("callback",t)};return g(()=>{const t=document.createElement("script");t.async=!0,t.src="https://telegram.org/js/telegram-widget.js?3",t.setAttribute("data-size",s.size),t.setAttribute("data-userpic",(!s.hideUserPic).toString()),t.setAttribute("data-telegram-login",s.botUsername),t.setAttribute("data-request-access",s.requestAccess),s.radius&&t.setAttribute("data-radius",s.radius),s.mode==="callback"?(window.onTelegramAuth=i,t.setAttribute("data-onauth","window.onTelegramAuth(user)")):t.setAttribute("data-auth-url",s.redirectUrl),a.value&&a.value.appendChild(t)}),(t,k)=>(r(),p("div",{ref_key:"button",ref:a},null,512))}}),b=o("p",null,[o("img",{src:"https://core.telegram.org/img/Widget_Login.svg",alt:"Login widget"})],-1),f={id:"frontmatter-title",tabindex:"-1"},_=o("a",{class:"header-anchor",href:"#frontmatter-title","aria-hidden":"true"},"#",-1),A=c('<p>The Telegram <strong>login button</strong> is a simple way to authorize users on your website. Check out <a href="https://telegram.org/blog/login" target="_blank" rel="noreferrer">this post</a> for a general overview of the widget.</p><blockquote><p><a href="https://core.telegram.org/widgets/login" target="_blank" rel="noreferrer">Official Telegram documentation</a></p></blockquote><blockquote><p>Inspired by <a href="https://github.com/vchaptsev/vue-telegram-login" target="_blank" rel="noreferrer">@vchaptsev/vue-telegram-login</a></p></blockquote><h2 id="demo" tabindex="-1">Demo <a class="header-anchor" href="#demo" aria-hidden="true">#</a></h2>',4),C=c(`<h2 id="usage" tabindex="-1">Usage <a class="header-anchor" href="#usage" aria-hidden="true">#</a></h2><p>After a successful authorization, the widget can return data in two ways:</p><ul><li>by redirecting the user to the URL specified in the <code>redirect-url</code> property;</li><li>by emitting a <code>callback</code> event:</li></ul><div class="language-vue"><button class="copy"></button><span class="lang">vue</span><pre><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">script</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">setup</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">ButtonLogin</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">televue</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> loginWithTelegram </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">async</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">user</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// Follow this link to see how you can verify user data on backend</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// https://core.telegram.org/widgets/login#checking-authorization</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">ButtonLogin</span><span style="color:#89DDFF;"> </span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">mode</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">callback</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">size</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">large</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">bot-username</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">televuebot</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span></span>
<span class="line"><span style="color:#89DDFF;">    @</span><span style="color:#C792EA;">callback</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">loginWithTelegram</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span></span>
<span class="line"><span style="color:#89DDFF;">  /&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><h2 id="props" tabindex="-1">Props <a class="header-anchor" href="#props" aria-hidden="true">#</a></h2><table><thead><tr><th>Property</th><th>Type</th><th>Default</th><th>Options</th></tr></thead><tbody><tr><td>mode</td><td>string</td><td><strong>Required prop</strong></td><td><code>&#39;callback&#39;</code> or <code>&#39;redirect&#39;</code></td></tr><tr><td>bot-username</td><td>string</td><td><strong>Required prop</strong></td><td></td></tr><tr><td>size</td><td>string</td><td><code>&#39;medium&#39;</code></td><td><code>&#39;small&#39;</code>, <code>&#39;medium&#39;</code> or <code>&#39;large&#39;</code></td></tr><tr><td>redirect-url</td><td>string</td><td><code>&#39;&#39;</code></td><td></td></tr><tr><td>request-access</td><td>string</td><td><code>&#39;read&#39;</code></td><td><code>&#39;read&#39;</code> or <code>&#39;write&#39;</code></td></tr><tr><td>radius</td><td>string</td><td><code>&#39;&#39;</code></td><td></td></tr><tr><td>hide-user-pic</td><td>boolean</td><td><code>false</code></td><td></td></tr></tbody></table><blockquote><p><a href="https://core.telegram.org/widgets/login#widget-configuration" target="_blank" rel="noreferrer">Try an official configurator to learn more about widget options</a></p></blockquote><h2 id="setting-up-a-bot" tabindex="-1">Setting up a bot <a class="header-anchor" href="#setting-up-a-bot" aria-hidden="true">#</a></h2><p>To use the login widget, you&#39;ll need a <a href="https://core.telegram.org/bots#3-how-do-i-create-a-bot" target="_blank" rel="noreferrer">Telegram bot</a>.</p><p>We strongly recommend that the <strong>profile picture</strong> of the bot you use for authorization corresponds with your website\u2018s logo, and that the bot\u2019s <strong>name</strong> reflects that connection.</p><p>Users will see this message when they log into your website:</p><p><img src="https://core.telegram.org/file/811140220/1a02/WFoFUXRl_C8.20012/170c02fae7a0c638aa" alt="Login message"></p><p>It is more likely that users will log in if your bot has a name and logo they expect to see.</p><p>Once you have chosen a bot, send the <code>/setdomain</code> command to <a href="https://t.me/botfather" target="_blank" rel="noreferrer">@botfather</a> to link your website&#39;s domain to the bot.</p>`,14),q=JSON.parse('{"title":"Login Button","description":"","frontmatter":{"title":"Login Button","editLink":true},"headers":[{"level":2,"title":"Demo","slug":"demo"},{"level":2,"title":"Usage","slug":"usage"},{"level":2,"title":"Props","slug":"props"},{"level":2,"title":"Setting up a bot","slug":"setting-up-a-bot"}],"relativePath":"widgets/login.md","lastUpdated":1660674902000}'),w={name:"widgets/login.md"},E=Object.assign(w,{setup(e){return(n,s)=>(r(),p("div",null,[b,o("h1",f,[y(h(n.$frontmatter.title)+" ",1),_]),A,l(F,{output:"","output-placeholder":"Log in to see your user data"},{default:D(({onOutput:a})=>[l(m,{mode:"callback",size:"large","bot-username":"televuebot",onCallback:a},null,8,["onCallback"])]),_:1}),C]))}});export{q as __pageData,E as default};
